# gsecutil - Google Secret Manager рдЙрдкрдпреЛрдЧрд┐рддрд╛

ЁЯЪА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рд╕рдорд░реНрдерди рдФрд░ рдЯреАрдо-рдЕрдиреБрдХреВрд▓ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЗ рд╕рд╛рде Google Secret Manager рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд░рд▓реАрдХреГрдд рдХрдорд╛рдВрдб-рд▓рд╛рдЗрди рд░реИрдкрд░ред

## ЁЯМН рднрд╛рд╖рд╛ рд╕рдВрд╕реНрдХрд░рдг

- **English** - [README.md](README.md)
- **цЧецЬмшкЮ** - [README.ja.md](README.ja.md)
- **ф╕нцЦЗ** - [README.zh.md](README.zh.md)
- **Espa├▒ol** - [README.es.md](README.es.md)
- **рд╣рд┐рдВрджреА** - [README.hi.md](README.hi.md) (рд╡рд░реНрддрдорд╛рди)
- **Portugu├кs** - [README.pt.md](README.pt.md)

> **рдиреЛрдЯ**: рд╕рднреА рдЧреИрд░-рдЕрдВрдЧреНрд░реЗрдЬреА рд╕рдВрд╕реНрдХрд░рдг рдорд╢реАрди-рдЕрдиреБрд╡рд╛рджрд┐рдд рд╣реИрдВред рд╕рдмрд╕реЗ рд╕рдЯреАрдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рдЕрдВрдЧреНрд░реЗрдЬреА рд╕рдВрд╕реНрдХрд░рдг рджреЗрдЦреЗрдВред

## рддреНрд╡рд░рд┐рдд рдкреНрд░рд╛рд░рдВрдн

### рд╕реНрдерд╛рдкрдирд╛

[рд░рд┐рд▓реАрдЬрд╝ рдкреЗрдЬ](https://github.com/superdaigo/gsecutil/releases) рд╕реЗ рдЕрдкрдиреЗ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреЗ рд▓рд┐рдП рдирд╡реАрдирддрдо рдмрд╛рдЗрдирд░реА рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ:

```bash
# macOS Apple Silicon
curl -L https://github.com/superdaigo/gsecutil/releases/latest/download/gsecutil-darwin-arm64 -o gsecutil
chmod +x gsecutil
sudo mv gsecutil /usr/local/bin/

# macOS Intel
curl -L https://github.com/superdaigo/gsecutil/releases/latest/download/gsecutil-darwin-amd64 -o gsecutil
chmod +x gsecutil
sudo mv gsecutil /usr/local/bin/

# Linux
curl -L https://github.com/superdaigo/gsecutil/releases/latest/download/gsecutil-linux-amd64 -o gsecutil
chmod +x gsecutil
sudo mv gsecutil /usr/local/bin/

# Windows (PowerShell)
Invoke-WebRequest -Uri "https://github.com/superdaigo/gsecutil/releases/latest/download/gsecutil-windows-amd64.exe" -OutFile "gsecutil.exe"
# Move to a directory in your PATH, e.g., C:\Windows\System32
Move-Item gsecutil.exe C:\Windows\System32\gsecutil.exe
```

рдпрд╛ Go рдХреЗ рд╕рд╛рде рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ:
```bash
go install github.com/superdaigo/gsecutil@latest
```

### рдЖрд╡рд╢реНрдпрдХ рд╢рд░реНрддреЗрдВ

- [Google Cloud SDK (gcloud)](https://cloud.google.com/sdk/docs/install) рд╕реНрдерд╛рдкрд┐рдд рдФрд░ рдкреНрд░рдорд╛рдгрд┐рдд
- Secret Manager API рд╕рдХреНрд╖рдо рдХреЗ рд╕рд╛рде Google Cloud рдкреНрд░реЛрдЬреЗрдХреНрдЯ

### рдкреНрд░рдорд╛рдгреАрдХрд░рдг

```bash
# gcloud рдХреЗ рд╕рд╛рде рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░реЗрдВ
gcloud auth login

# рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реЗрдЯ рдХрд░реЗрдВ
gcloud config set project YOUR_PROJECT_ID

# рдпрд╛ рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рд╕реЗрдЯ рдХрд░реЗрдВ
export GSECUTIL_PROJECT=YOUR_PROJECT_ID
```

## рдореВрд▓ рдЙрдкрдпреЛрдЧ

### рдПрдХ рд╕реАрдХреНрд░реЗрдЯ рдмрдирд╛рдПрдВ
```bash
# рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рдЗрдирдкреБрдЯ
gsecutil create database-password

# рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рд╕реЗ
gsecutil create api-key -d "sk-1234567890"

# рдлрд╝рд╛рдЗрд▓ рд╕реЗ
gsecutil create config --data-file ./config.json
```

### рдПрдХ рд╕реАрдХреНрд░реЗрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
```bash
# рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
gsecutil get database-password

# рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдореЗрдВ рдХреЙрдкреА рдХрд░реЗрдВ
gsecutil get api-key --clipboard

# рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
gsecutil get api-key --version 2
```

### рд╕реАрдХреНрд░реЗрдЯреНрд╕ рд╕реВрдЪреАрдмрджреНрдз рдХрд░реЗрдВ
```bash
# рд╕рднреА рд╕реАрдХреНрд░реЗрдЯреНрд╕ рд╕реВрдЪреАрдмрджреНрдз рдХрд░реЗрдВ
gsecutil list

# рд▓реЗрдмрд▓ рджреНрд╡рд╛рд░рд╛ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░реЗрдВ
gsecutil list --filter "labels.env=prod"
```

### рдПрдХ рд╕реАрдХреНрд░реЗрдЯ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ
```bash
# рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рдЗрдирдкреБрдЯ
gsecutil update database-password

# рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рд╕реЗ
gsecutil update api-key -d "new-secret-value"
```

### рдПрдХ рд╕реАрдХреНрд░реЗрдЯ рд╣рдЯрд╛рдПрдВ
```bash
gsecutil delete old-secret
```

## рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди

gsecutil рдкреНрд░реЛрдЬреЗрдХреНрдЯ-рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓реЗрдВ рдЗрд╕ рдХреНрд░рдо рдореЗрдВ рдЦреЛрдЬреА рдЬрд╛рддреА рд╣реИрдВ:

1. `--config` рдлреНрд▓реИрдЧ (рдпрджрд┐ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╣реИ)
2. рд╡рд░реНрддрдорд╛рди рдбрд╛рдЗрд░реЗрдХреНрдЯрд░реА: `gsecutil.conf` рдпрд╛ `.gsecutil.conf`
3. рд╣реЛрдо рдбрд╛рдЗрд░реЗрдХреНрдЯрд░реА: `~/.config/gsecutil/gsecutil.conf`

### рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЙрджрд╛рд╣рд░рдг

```yaml
# рдкреНрд░реЛрдЬреЗрдХреНрдЯ ID (рдпрджрд┐ рдкрд░реНрдпрд╛рд╡рд░рдг рдпрд╛ gcloud рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реЗрдЯ рд╣реИ рддреЛ рд╡реИрдХрд▓реНрдкрд┐рдХ)
project: "my-project-id"

# рдЯреАрдо рд╕рдВрдЧрдарди рдХреЗ рд▓рд┐рдП рд╕реАрдХреНрд░реЗрдЯ рдирд╛рдо рдЙрдкрд╕рд░реНрдЧ
prefix: "team-shared-"

# list рдХрдорд╛рдВрдб рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ
list:
  attributes:
    - title
    - owner
    - environment

# рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓ рдореЗрдЯрд╛рдбреЗрдЯрд╛
credentials:
  - name: "database-password"
    title: "Production Database Password"
    environment: "production"
    owner: "backend-team"
```

### рддреНрд╡рд░рд┐рдд рдкреНрд░рд╛рд░рдВрдн

```bash
# рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рд░реВрдк рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВ
gsecutil config init

# рдпрд╛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧ рдмрдирд╛рдПрдВ
echo 'project: "my-project-123"' > gsecutil.conf
```

рд╡рд┐рд╕реНрддреГрдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рд▓рд┐рдП, [docs/configuration.md](docs/configuration.md) рджреЗрдЦреЗрдВред

## рдореБрдЦреНрдп рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ

- тЬЕ **рд╕рд░рд▓ CRUD рд╕рдВрдЪрд╛рд▓рди** - рд╕реАрдХреНрд░реЗрдЯреНрд╕ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╣рдЬ рдХрдорд╛рдВрдб
- тЬЕ **рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдПрдХреАрдХрд░рдг** - рд╕реАрдХреНрд░реЗрдЯреНрд╕ рдХреЛ рд╕реАрдзреЗ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдореЗрдВ рдХреЙрдкреА рдХрд░реЗрдВ
- тЬЕ **рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рдмрдВрдзрди** - рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рдФрд░ рд╕рдВрд╕реНрдХрд░рдг рдЬреАрд╡рдирдЪрдХреНрд░ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
- тЬЕ **рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рд╕рдорд░реНрдерди** - рдЯреАрдо-рдЕрдиреБрдХреВрд▓ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдФрд░ рд╕рдВрдЧрдарди
- тЬЕ **рдПрдХреНрд╕реЗрд╕ рдкреНрд░рдмрдВрдзрди** - рдмреБрдирд┐рдпрд╛рджреА IAM рдиреАрддрд┐ рдкреНрд░рдмрдВрдзрди
- тЬЕ **рдСрдбрд┐рдЯ рд▓реЙрдЧ** - рджреЗрдЦреЗрдВ рдХрд┐ рдХрд┐рд╕рдиреЗ рдХрдм рд╕реАрдХреНрд░реЗрдЯреНрд╕ рддрдХ рдкрд╣реБрдВрдЪ рдмрдирд╛рдИ
- тЬЕ **рдПрдХрд╛рдзрд┐рдХ рдЗрдирдкреБрдЯ рд╡рд┐рдзрд┐рдпрд╛рдВ** - рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡, рдЗрдирд▓рд╛рдЗрди, рдпрд╛ рдлрд╝рд╛рдЗрд▓-рдЖрдзрд╛рд░рд┐рдд
- тЬЕ **рдХреНрд░реЙрд╕-рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо** - Linux, macOS, Windows (amd64/arm64)

## рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг

- **[рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЧрд╛рдЗрдб](docs/configuration.md)** - рд╡рд┐рд╕реНрддреГрдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╡рд┐рдХрд▓реНрдк рдФрд░ рдЙрджрд╛рд╣рд░рдг
- **[рдХрдорд╛рдВрдб рд╕рдВрджрд░реНрдн](docs/commands.md)** - рд╕рдВрдкреВрд░реНрдг рдХрдорд╛рдВрдб рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг
- **[рдСрдбрд┐рдЯ рд▓реЙрдЧрд┐рдВрдЧ рд╕реЗрдЯрдЕрдк](docs/audit-logging.md)** - рдСрдбрд┐рдЯ рд▓реЙрдЧ рд╕рдХреНрд╖рдо рдФрд░ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
- **[рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдЧрд╛рдЗрдб](docs/troubleshooting.md)** - рд╕рд╛рдорд╛рдиреНрдп рд╕рдорд╕реНрдпрд╛рдПрдВ рдФрд░ рд╕рдорд╛рдзрд╛рди
- **[рдмрд┐рд▓реНрдб рдирд┐рд░реНрджреЗрд╢](BUILD.md)** - рд╕реНрд░реЛрдд рд╕реЗ рдмрд┐рд▓реНрдб рдХрд░реЗрдВ
- **[рд╡рд┐рдХрд╛рд╕ рдЧрд╛рдЗрдб](WARP.md)** - WARP AI рдХреЗ рд╕рд╛рде рд╡рд┐рдХрд╛рд╕

## рд╕рд╛рдорд╛рдиреНрдп рдХрдорд╛рдВрдб

```bash
# рд╕реАрдХреНрд░реЗрдЯ рд╡рд┐рд╡рд░рдг рджрд┐рдЦрд╛рдПрдВ
gsecutil describe my-secret

# рд╕рдВрд╕реНрдХрд░рдг рдЗрддрд┐рд╣рд╛рд╕ рджрд┐рдЦрд╛рдПрдВ
gsecutil describe my-secret --show-versions

# рдСрдбрд┐рдЯ рд▓реЙрдЧ рджреЗрдЦреЗрдВ
gsecutil auditlog my-secret

# рдПрдХреНрд╕реЗрд╕ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
gsecutil access list my-secret
gsecutil access grant my-secret --principal user:alice@example.com

# рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ
gsecutil config validate

# рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рджрд┐рдЦрд╛рдПрдВ
gsecutil config show
```

## рд▓рд╛рдЗрд╕реЗрдВрд╕

рдпрд╣ рдкреНрд░реЛрдЬреЗрдХреНрдЯ MIT рд▓рд╛рдЗрд╕реЗрдВрд╕ рдХреЗ рддрд╣рдд рд▓рд╛рдЗрд╕реЗрдВрд╕ рдкреНрд░рд╛рдкреНрдд рд╣реИ - рд╡рд┐рд╡рд░рдг рдХреЗ рд▓рд┐рдП LICENSE рдлрд╝рд╛рдЗрд▓ рджреЗрдЦреЗрдВред

## рд╕рдВрдмрдВрдзрд┐рдд

- [Google Cloud SDK](https://cloud.google.com/sdk)
- [Secret Manager рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг](https://cloud.google.com/secret-manager/docs)
