# gsecutil - Google Secret Manager рдЙрдкрдХрд░рдг

> **рдЕрдиреБрд╡рд╛рдж рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ**: рдпрд╣ README рдлрд╝рд╛рдЗрд▓ рдорд╢реАрди рдЕрдиреБрд╡рд╛рджрд┐рдд рд╣реИред рд╕рдмрд╕реЗ рдирд╡реАрди рдФрд░ рд╕рдЯреАрдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рдХреГрдкрдпрд╛ рдЕрдВрдЧреНрд░реЗрдЬреА рд╕рдВрд╕реНрдХрд░рдг [README.md](README.md) рджреЗрдЦреЗрдВред

ЁЯЪА **v1.1.0** - рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рд╕рдкреЛрд░реНрдЯ рдХреЗ рд╕рд╛рде Google Secret Manager рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд░рд▓реАрдХреГрдд рдХрдорд╛рдВрдб-рд▓рд╛рдЗрди рд░реИрдкрд░ред `gsecutil` рд╕рд╛рдорд╛рдиреНрдп рдЧреБрдкреНрдд рдСрдкрд░реЗрд╢рди рдХреЗ рд▓рд┐рдП рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдХрдорд╛рдВрдб рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЫреЛрдЯреА рдЯреАрдореЛрдВ рдХреЛ Google Cloud рдХреЗ Secret Manager рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрд╛рд╕рд╡рд░реНрдб рдФрд░ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдореЗрдВ рдЖрд╕рд╛рдиреА рд╣реЛрддреА рд╣реИ, рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рдкрд╛рд╕рд╡рд░реНрдб рдкреНрд░рдмрдВрдзрди рдЯреВрд▓ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗред

**v1.1.0 рдореЗрдВ рдирдИ рд╕реБрд╡рд┐рдзрд╛рдПрдВ**: YAML рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рд╕рдкреЛрд░реНрдЯ, рдкреНрд░реАрдлрд┐рдХреНрд╕ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛, рдФрд░ рдЯреАрдо рдХрд╕реНрдЯрдо рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдЙрдиреНрдирдд рд╕реВрдЪреА рдФрд░ рд╡рд┐рд╡рд░рдг рдХрдорд╛рдВрдбред

## тЬи рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ

### ЁЯФР **рдкреВрд░реНрдг рдЧреБрдкреНрдд рдкреНрд░рдмрдВрдзрди**
- **CRUD рд╕рдВрдЪрд╛рд▓рди**: рд╕рд░рд▓реАрдХреГрдд рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдЧреБрдкреНрдд рдмрдирд╛рдПрдВ, рдкрдврд╝реЗрдВ, рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ, рд╣рдЯрд╛рдПрдВ
- **рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рдмрдВрдзрди**: рдХрд┐рд╕реА рднреА рд╕рдВрд╕реНрдХрд░рдг рддрдХ рдкрд╣реБрдВрдЪ, рд╕рдВрд╕реНрдХрд░рдг рдЗрддрд┐рд╣рд╛рд╕ рдФрд░ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рджреЗрдЦреЗрдВ
- **рдХреНрд░реЙрд╕-рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо** рд╕рдорд░реНрдерди (Linux, macOS, Windows рдХреЗ рд╕рд╛рде ARM64 рд╕рдорд░реНрдерди)
- **рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдПрдХреАрдХрд░рдг** - рдЧреБрдкреНрдд рдорд╛рдиреЛрдВ рдХреЛ рд╕реАрдзреЗ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдореЗрдВ рдХреЙрдкреА рдХрд░реЗрдВ
- **рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рдФрд░ рдлрд╝рд╛рдЗрд▓ рдЗрдирдкреБрдЯ** - рд╕реБрд░рдХреНрд╖рд┐рдд рдкреНрд░реЙрдореНрдкреНрдЯ рдпрд╛ рдлрд╝рд╛рдЗрд▓-рдЖрдзрд╛рд░рд┐рдд рдЧреБрдкреНрдд рд▓реЛрдбрд┐рдВрдЧ

### ЁЯЫбя╕П **рдЙрдиреНрдирдд рдкрд╣реБрдВрдЪ рдкреНрд░рдмрдВрдзрди**
*(v1.0.0 рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд)*
- **рдкреВрд░реНрдг IAM рдиреАрддрд┐ рд╡рд┐рд╢реНрд▓реЗрд╖рдг** - рджреЗрдЦреЗрдВ рдХрд┐ рдХрд┐рд╕реА рднреА рд╕реНрддрд░ рдкрд░ рдЧреБрдкреНрддреЛрдВ рддрдХ рдХреМрди рдкрд╣реБрдВрдЪ рд░рдЦрддрд╛ рд╣реИ
- **рдмрд╣реБ-рд╕реНрддрд░реАрдп рдЕрдиреБрдорддрд┐ рдЬрд╛рдВрдЪ** - рдЧреБрдкреНрдд-рд╕реНрддрд░ рдФрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯ-рд╕реНрддрд░реАрдп рдкрд╣реБрдВрдЪ рд╡рд┐рд╢реНрд▓реЗрд╖рдг
- **IAM рд╕реНрдерд┐рддрд┐ рдЬрд╛рдЧрд░реВрдХрддрд╛** - CEL рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рд╕рд╢рд░реНрдд рдкрд╣реБрдВрдЪ рдиреАрддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдкреВрд░реНрдг рд╕рдорд░реНрдерди
- **рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдкреНрд░рдмрдВрдзрди** - рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ, рд╕рдореВрд╣реЛрдВ рдФрд░ рд╕реЗрд╡рд╛ рдЦрд╛рддреЛрдВ рдХреЗ рд▓рд┐рдП рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди/рд░рджреНрдж рдХрд░реЗрдВ
- **рдкреНрд░реЛрдЬреЗрдХреНрдЯ-рд╡реНрдпрд╛рдкреА рд╡рд┐рд╢реНрд▓реЗрд╖рдг** - рд╕рдВрдкрд╛рджрдХ/рд╕реНрд╡рд╛рдореА рднреВрдорд┐рдХрд╛рдУрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░реЗрдВ рдЬреЛ Secret Manager рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИрдВ

### ЁЯУК **рдСрдбрд┐рдЯ рдФрд░ рдЕрдиреБрдкрд╛рд▓рди**
- **рд╡реНрдпрд╛рдкрдХ рдСрдбрд┐рдЯ рд▓реЙрдЧрд┐рдВрдЧ** - рдЯреНрд░реИрдХ рдХрд░реЗрдВ рдХрд┐ рдХрд┐рд╕рдиреЗ рдЧреБрдкреНрддреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рдХреА, рдХрдм рдФрд░ рдХреНрдпрд╛ рд╕рдВрдЪрд╛рд▓рди
- **рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓-рдЖрдзрд╛рд░рд┐рдд рдлрд╝рд┐рд▓реНрдЯрд░рд┐рдВрдЧ** - рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ/рд╕рдореВрд╣реЛрдВ рджреНрд╡рд╛рд░рд╛ рдкрд╣реБрдВрдЪ рдпреЛрдЧреНрдп рд╕рднреА рдЧреБрдкреНрдд рджреЗрдЦреЗрдВ
- **рд▓рдЪреАрд▓реА рдлрд╝рд┐рд▓реНрдЯрд░рд┐рдВрдЧ** - рдЧреБрдкреНрдд, рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓, рд╕рдВрдЪрд╛рд▓рди рдкреНрд░рдХрд╛рд░, рд╕рдордп рд╕реАрдорд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░
- **рд╕реНрдерд┐рддрд┐ рдореВрд▓реНрдпрд╛рдВрдХрди** - рд╕рдордЭреЗрдВ рдХрд┐ рд╕рд╢рд░реНрдд рдкрд╣реБрдВрдЪ рдХрдм рд▓рд╛рдЧреВ рд╣реЛрддреА рд╣реИ

### ЁЯОп **рдЙрддреНрдкрд╛рджрди-рддреИрдпрд╛рд░**
- **рд╕реБрд╕рдВрдЧрдд API** - рд╕рднреА рдХрдорд╛рдВрдб рдореЗрдВ рдПрдХреАрдХреГрдд рдкреИрд░рд╛рдореАрдЯрд░ рдирд╛рдордХрд░рдг
- **рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬрд╝ рд╕реБрд╡рд┐рдзрд╛рдПрдВ** - IAM рд╕реНрдерд┐рддрд┐рдпрд╛рдВ, рдкреНрд░реЛрдЬреЗрдХреНрдЯ-рд╕реНрддрд░реАрдп рд╡рд┐рд╢реНрд▓реЗрд╖рдг, рдЕрдиреБрдкрд╛рд▓рди рдСрдбрд┐рдЯрд┐рдВрдЧ
- **рдордЬрдмреВрдд рддреНрд░реБрдЯрд┐ рд╣реИрдВрдбрд▓рд┐рдВрдЧ** - рдЧреБрдо рдЕрдиреБрдорддрд┐рдпреЛрдВ рдФрд░ рдиреЗрдЯрд╡рд░реНрдХ рдореБрджреНрджреЛрдВ рдХрд╛ рд╕реБрдВрджрд░ рд╣реИрдВрдбрд▓рд┐рдВрдЧ
- **рд▓рдЪреАрд▓рд╛ рдЖрдЙрдЯрдкреБрдЯ** - рд╕рдореГрджреНрдз рд╕реНрд╡рд░реВрдкрдг рдХреЗ рд╕рд╛рде JSON, YAML, рддрд╛рд▓рд┐рдХрд╛ рдкреНрд░рд╛рд░реВрдк

## рдкреВрд░реНрд╡рд╛рдкреЗрдХреНрд╖рд╛рдПрдВ

- [Google Cloud SDK (gcloud)](https://cloud.google.com/sdk/docs/install) рд╕реНрдерд╛рдкрд┐рдд рдФрд░ рдкреНрд░рдорд╛рдгрд┐рдд
- Secret Manager API рд╕рдХреНрд╖рдо рдХреЗ рд╕рд╛рде Google Cloud рдкреНрд░реЛрдЬреЗрдХреНрдЯ
- Secret Manager рд╕рдВрдЪрд╛рд▓рди рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд IAM рдЕрдиреБрдорддрд┐рдпрд╛рдВ

## рд╕реНрдерд╛рдкрдирд╛

### рдкреВрд░реНрд╡-рдирд┐рд░реНрдорд┐рдд рдмрд╛рдпрдиреЗрд░реАрдЬрд╝

[рд░рд┐рд▓реАрдЬрд╝ рдкреЗрдЬ](https://github.com/superdaigo/gsecutil/releases) рд╕реЗ рдЕрдкрдиреЗ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЗ рд▓рд┐рдП рдирд╡реАрдирддрдо рд░рд┐рд▓реАрдЬрд╝ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ:

| рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо | рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ | рдбрд╛рдЙрдирд▓реЛрдб |
|----------|--------------|----------|
| Linux | x64 | `gsecutil-linux-amd64-v{version}` |
| Linux | ARM64 | `gsecutil-linux-arm64-v{version}` |
| macOS | Intel | `gsecutil-darwin-amd64-v{version}` |
| macOS | Apple Silicon | `gsecutil-darwin-arm64-v{version}` |
| Windows | x64 | `gsecutil-windows-amd64-v{version}.exe` |

**рдбрд╛рдЙрдирд▓реЛрдб рдХреЗ рдмрд╛рдж:** рд╕реБрд╕рдВрдЧрдд рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдмрд╛рдпрдиреЗрд░реА рдХрд╛ рдирд╛рдо рдмрджрд▓реЗрдВ:

```bash
# Linux/macOS рдЙрджрд╛рд╣рд░рдг:
mv gsecutil-linux-amd64-v1.1.0 gsecutil
chmod +x gsecutil

# Windows рдЙрджрд╛рд╣рд░рдг (PowerShell/Command Prompt):
ren gsecutil-windows-amd64-v1.1.0.exe gsecutil.exe
```

рдпрд╣ рдЖрдкрдХреЛ рд╕рдВрд╕реНрдХрд░рдг рдХреА рдкрд░рд╡рд╛рд╣ рдХрд┐рдП рдмрд┐рдирд╛ `gsecutil` рдХрд╛ рд╕реБрд╕рдВрдЧрдд рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

### Go рдХреЗ рд╕рд╛рде рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ

```bash
go install github.com/superdaigo/gsecutil@latest
```

### рд╕реНрд░реЛрдд рд╕реЗ рдмрд┐рд▓реНрдб рдХрд░реЗрдВ

рд╡реНрдпрд╛рдкрдХ рдмрд┐рд▓реНрдб рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП, [BUILD.md](BUILD.md) рджреЗрдЦреЗрдВред

**рддреНрд╡рд░рд┐рдд рдмрд┐рд▓реНрдб:**
```bash
git clone https://github.com/superdaigo/gsecutil.git
cd gsecutil

# рд╡рд░реНрддрдорд╛рди рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЗ рд▓рд┐рдП рдмрд┐рд▓реНрдб рдХрд░реЗрдВ
make build
# рдпрд╛
./build.sh          # Linux/macOS
.\\build.ps1         # Windows

# рд╕рднреА рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЗ рд▓рд┐рдП рдмрд┐рд▓реНрдб рдХрд░реЗрдВ
make build-all
# рдпрд╛
./build.sh all      # Linux/macOS
.\\build.ps1 all     # Windows
```

## рдЙрдкрдпреЛрдЧ

### рдЧреНрд▓реЛрдмрд▓ рд╡рд┐рдХрд▓реНрдк

- `-p, --project`: Google Cloud рдкреНрд░реЛрдЬреЗрдХреНрдЯ ID (`GOOGLE_CLOUD_PROJECT` рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рджреНрд╡рд╛рд░рд╛ рднреА рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ)

### рдХрдорд╛рдВрдб

#### Get Secret (рдЧреБрдкреНрдд рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ)

Google Secret Manager рд╕реЗ рдЧреБрдкреНрдд рдорд╛рди рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдк рдХреЛрдИ рднреА рд╕рдВрд╕реНрдХрд░рдг рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

```bash
# рдЧреБрдкреНрдд рдХрд╛ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
gsecutil get my-secret

# рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ (рд░реЛрд▓рдмреИрдХ, рдбрд┐рдмрдЧрд┐рдВрдЧ, рдпрд╛ рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рдорд╛рдиреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА)
gsecutil get my-secret --version 1
gsecutil get my-secret -v 3

# рдЧреБрдкреНрдд рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ рдФрд░ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдореЗрдВ рдХреЙрдкреА рдХрд░реЗрдВ
gsecutil get my-secret --clipboard

# рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдХреЗ рд╕рд╛рде рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
gsecutil get my-secret --version 2 --clipboard

# рд╕рдВрд╕реНрдХрд░рдг рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдЧреБрдкреНрдд рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ (рд╕рдВрд╕реНрдХрд░рдг, рдирд┐рд░реНрдорд╛рдг рд╕рдордп, рд╕реНрдерд┐рддрд┐)
gsecutil get my-secret --show-metadata
gsecutil get my-secret -v 1 --show-metadata    # рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдкреБрд░рд╛рдирд╛ рд╕рдВрд╕реНрдХрд░рдг

# рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реЗ рдЧреБрдкреНрдд рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
gsecutil get my-secret --project my-gcp-project
```

**рд╕рдВрд╕реНрдХрд░рдг рд╕рдорд░реНрдерди:**
- ЁЯФД **рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг**: рдЬрдм `--version` рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд╣реАрдВ рд╣реИ рддреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╡реНрдпрд╡рд╣рд╛рд░
- ЁЯУЕ **рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рд╕рдВрд╕реНрдХрд░рдг**: рд╕рдВрдЦреНрдпрд╛ рджреНрд╡рд╛рд░рд╛ рдХрд┐рд╕реА рднреА рдкрд┐рдЫрд▓реЗ рд╕рдВрд╕реНрдХрд░рдг рддрдХ рдкрд╣реБрдВрдЪ (рдЬреИрд╕реЗ, `--version 1`, `--version 2`)
- ЁЯФН **рд╕рдВрд╕реНрдХрд░рдг рдореЗрдЯрд╛рдбреЗрдЯрд╛**: рд╕рдВрд╕реНрдХрд░рдг рд╡рд┐рд╡рд░рдг рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП `--show-metadata` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ (рдирд┐рд░реНрдорд╛рдг рд╕рдордп, рд╕реНрдерд┐рддрд┐, ETag)
- ЁЯУЛ **рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рд╕рдорд░реНрдерди**: `--clipboard` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рд╕реА рднреА рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ

## рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди

### рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░

- `GOOGLE_CLOUD_PROJECT`: рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреНрд░реЛрдЬреЗрдХреНрдЯ ID (`--project` рдлрд╝реНрд▓реИрдЧ рджреНрд╡рд╛рд░рд╛ рдЕрдзрд┐рд░реЛрд╣рд┐рдд)

### рдкреНрд░рдорд╛рдгреАрдХрд░рдг

`gsecutil` `gcloud` рдХреЗ рд╕рдорд╛рди рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдк рдкреНрд░рдорд╛рдгрд┐рдд рд╣реИрдВ:

```bash
# gcloud рдХреЗ рд╕рд╛рде рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░реЗрдВ
gcloud auth login

# рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реЗрдЯ рдХрд░реЗрдВ
gcloud config set project YOUR_PROJECT_ID

# рд╕реЗрд╡рд╛ рдЦрд╛рддреЛрдВ рдХреЗ рд▓рд┐рдП (CI/CD рдореЗрдВ)
gcloud auth activate-service-account --key-file=service-account.json
```

## рд╕реБрд░рдХреНрд╖рд╛ рдФрд░ рд╕рд░реНрд╡реЛрддреНрддрдо рдЕрднреНрдпрд╛рд╕

### рд╕реБрд░рдХреНрд╖рд╛ рд╕реБрд╡рд┐рдзрд╛рдПрдВ

- **рдХреЛрдИ рд╕реНрдерд╛рдпреА рднрдВрдбрд╛рд░рдг рдирд╣реАрдВ**: рдЧреБрдкреНрдд рдорд╛рди рдХрднреА рднреА `gsecutil` рджреНрд╡рд╛рд░рд╛ рд▓реЙрдЧ рдпрд╛ рд╕рдВрдЧреНрд░рд╣реАрдд рдирд╣реАрдВ рд╣реЛрддреЗ
- **рд╕реБрд░рдХреНрд╖рд┐рдд рдЗрдирдкреБрдЯ**: рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рдкреНрд░реЙрдореНрдкреНрдЯ рдЫреБрдкрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдЗрдирдкреБрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ
- **OS-рдореВрд▓ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб**: рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рд╕рдВрдЪрд╛рд▓рди рд╕реБрд░рдХреНрд╖рд┐рдд OS-рдореВрд▓ APIs рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ
- **gcloud рдкреНрд░рддрд┐рдирд┐рдзрд┐рдордВрдбрд▓**: рд╕рднреА рд╕рдВрдЪрд╛рд▓рди рдкреНрд░рдорд╛рдгрд┐рдд `gcloud` CLI рдХреЛ рд╕реМрдВрдкреЗ рдЬрд╛рддреЗ рд╣реИрдВ

### рд╕рд░реНрд╡реЛрддреНрддрдо рдЕрднреНрдпрд╛рд╕

- **рд╕рд╛рд╡рдзрд╛рдиреА рд╕реЗ `--force` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ**: рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ `--force` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рд╣рдореЗрд╢рд╛ рд╕рдореАрдХреНрд╖рд╛ рдХрд░реЗрдВ
- **рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░**: рджреЛрд╣рд░рд╛рд╡ `--project` рдлрд╝реНрд▓реИрдЧ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП `GOOGLE_CLOUD_PROJECT` рд╕реЗрдЯ рдХрд░реЗрдВ
- **рд╕рдВрд╕реНрдХрд░рдг рдирд┐рдпрдВрддреНрд░рдг**: рдЙрддреНрдкрд╛рджрди рдореЗрдВ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЧреБрдкреНрдд рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ (`--version N`)
- **рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рдСрдбрд┐рдЯ рдХрд░реЗрдВ**: `gsecutil auditlog secret-name` рдХреЗ рд╕рд╛рде рдЧреБрдкреНрдд рдкрд╣реБрдВрдЪ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░реЗрдВ
- **рдЧреБрдкреНрдд рд░реЛрдЯреЗрд╢рди**: `gsecutil update` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдирд┐рдпрдорд┐рдд рдЧреБрдкреНрдд рд░реЛрдЯреЗрд╢рди

## рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг

### рд╕рд╛рдорд╛рдиреНрдп рд╕рдорд╕реНрдпрд╛рдПрдВ

1. **"gcloud command not found"**
   - рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ Google Cloud SDK рд╕реНрдерд╛рдкрд┐рдд рд╣реИ рдФрд░ `gcloud` рдЖрдкрдХреЗ PATH рдореЗрдВ рд╣реИ

2. **рдкреНрд░рдорд╛рдгреАрдХрд░рдг рддреНрд░реБрдЯрд┐рдпрд╛рдВ**
   - рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `gcloud auth login` рдЪрд▓рд╛рдПрдВ
   - рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдкрд╣реБрдВрдЪ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ: `gcloud config get-value project`

3. **рдЕрдиреБрдорддрд┐ рдЕрд╕реНрд╡реАрдХреГрдд рддреНрд░реБрдЯрд┐рдпрд╛рдВ**
   - рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдХреЗ рдЦрд╛рддреЗ рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ IAM рднреВрдорд┐рдХрд╛рдПрдВ рд╣реИрдВ:
     - `roles/secretmanager.admin` (рд╕рднреА рд╕рдВрдЪрд╛рд▓рдиреЛрдВ рдХреЗ рд▓рд┐рдП)
     - `roles/secretmanager.secretAccessor` (рдкрдврд╝рдиреЗ рдХреЗ рд╕рдВрдЪрд╛рд▓рдиреЛрдВ рдХреЗ рд▓рд┐рдП)
     - `roles/secretmanager.secretVersionManager` (рдмрдирд╛рдиреЗ/рдЕрдкрдбреЗрдЯ рд╕рдВрдЪрд╛рд▓рдиреЛрдВ рдХреЗ рд▓рд┐рдП)

4. **рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд░рд╣рд╛**
   - рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдЧреНрд░рд╛рдлрд┐рдХрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рд╣реИ (Linux рдХреЗ рд▓рд┐рдП)
   - рд╣реЗрдбрд▓реЗрд╕ рд╕рд░реНрд╡рд░ рдкрд░, рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рд╕рдВрдЪрд╛рд▓рди рд╕реБрдВрджрд░ рд░реВрдк рд╕реЗ рд╡рд┐рдлрд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ

### рдбрд┐рдмрдЧ рдореЛрдб

рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реЗрдЯ рдХрд░рдХреЗ gcloud рдХрдорд╛рдВрдб рдореЗрдВ рд╡рд░реНрдмреЛрд╕ рдЖрдЙрдЯрдкреБрдЯ рдЬреЛрдбрд╝реЗрдВ:

```bash
export CLOUDSDK_CORE_VERBOSITY=debug
```

## рдкреНрд░рд▓реЗрдЦрди

- **[BUILD.md](BUILD.md)** - рд╕рднреА рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЗ рд▓рд┐рдП рд╡реНрдпрд╛рдкрдХ рдмрд┐рд▓реНрдб рдирд┐рд░реНрджреЗрд╢
- **[CONTRIBUTING.md](CONTRIBUTING.md)** - рдпреЛрдЧрджрд╛рди рджрд┐рд╢рд╛рдирд┐рд░реНрджреЗрд╢ рдФрд░ рд╡рд┐рдХрд╛рд╕ рдХрд╛рд░реНрдпрдкреНрд░рд╡рд╛рд╣
- **[WARP.md](WARP.md)** - WARP AI рдЯрд░реНрдорд┐рдирд▓ рдПрдХреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рд╡рд┐рдХрд╛рд╕ рдорд╛рд░реНрдЧрджрд░реНрд╢рди
- **README.md** - рдпрд╣ рдлрд╝рд╛рдЗрд▓, рдЙрдкрдпреЛрдЧ рдФрд░ рдЕрд╡рд▓реЛрдХрди

## рдпреЛрдЧрджрд╛рди

рдпреЛрдЧрджрд╛рди рдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ! рдЗрд╕ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рдпреЛрдЧрджрд╛рди рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╡рд┐рд╕реНрддреГрдд рджрд┐рд╢рд╛рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП, рд╡рд┐рдХрд╛рд╕ рд╡рд╛рддрд╛рд╡рд░рдг рдФрд░ рдкреНрд░реА-рдХрдорд┐рдЯ рд╣реБрдХ рдХреЗ рд╕реЗрдЯрдЕрдк рдирд┐рд░реНрджреЗрд╢реЛрдВ рд╕рд╣рд┐рдд, [CONTRIBUTING.md](CONTRIBUTING.md) рджреЗрдЦреЗрдВред

## рд▓рд╛рдЗрд╕реЗрдВрд╕

рдпрд╣ рдкреНрд░реЛрдЬреЗрдХреНрдЯ MIT рд▓рд╛рдЗрд╕реЗрдВрд╕ рдХреЗ рддрд╣рдд рд▓рд╛рдЗрд╕реЗрдВрд╕реАрдХреГрдд рд╣реИ - рд╡рд┐рд╡рд░рдг рдХреЗ рд▓рд┐рдП LICENSE рдлрд╝рд╛рдЗрд▓ рджреЗрдЦреЗрдВред

## рд╕рдВрдмрдВрдзрд┐рдд рдкреНрд░реЛрдЬреЗрдХреНрдЯ

- [Google Cloud SDK](https://cloud.google.com/sdk)
- [Secret Manager Documentation](https://cloud.google.com/secret-manager/docs)
- [Cobra CLI Framework](https://github.com/spf13/cobra)
